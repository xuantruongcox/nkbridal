/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { ChangeDetectorRef, Component, Input, Output, EventEmitter, ViewEncapsulation, ViewChild, HostListener, PLATFORM_ID, Inject } from '@angular/core';
import { isPlatformBrowser } from '@angular/common';
/** @type {?} */
var NEXT_ARROW_CLICK_MESSAGE = 'next';
/** @type {?} */
var PREV_ARROW_CLICK_MESSAGE = 'previous';
/** @type {?} */
var LIGHTBOX_NEXT_ARROW_CLICK_MESSAGE = 'lightbox next';
/** @type {?} */
var LIGHTBOX_PREV_ARROW_CLICK_MESSAGE = 'lightbox previous';
/** @type {?} */
var youtubeRegExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/;
/** @type {?} */
var validFileExtensions = ['jpeg', 'jpg', 'gif', 'png'];
/** @type {?} */
var validVideoExtensions = ['mp4'];
var NgImageSliderComponent = /** @class */ (function () {
    function NgImageSliderComponent(cdRef, platformId) {
        this.cdRef = cdRef;
        this.platformId = platformId;
        // for slider
        this.sliderMainDivWidth = 0;
        this.imageParentDivWidth = 0;
        this.imageObj = [];
        this.leftPos = 0;
        this.effectStyle = 'all 1s ease-in-out';
        this.speed = 1;
        this.sliderPrevDisable = false;
        this.sliderNextDisable = false;
        this.slideImageCount = 1;
        this.sliderImageWidth = 205;
        this.sliderImageHeight = 200;
        this.sliderImageSizeWithPadding = 211;
        this.autoSlideCount = 0;
        this.showArrowButton = true;
        this.infinite = false;
        this.imagePopup = true;
        // @Outputs
        this.imageClick = new EventEmitter();
        this.arrowClick = new EventEmitter();
        this.lightboxArrowClick = new EventEmitter();
        this.currentImageTitle = '';
        this.ligthboxShow = false;
        this.activeImageIndex = 0;
        this.lightboxNextDisable = false;
        this.lightboxPrevDisable = false;
        this.showImage = true;
    }
    Object.defineProperty(NgImageSliderComponent.prototype, "imageSize", {
        // @inputs
        set: /**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (data
                && typeof (data) === 'object') {
                if (data.hasOwnProperty('width') && typeof (data['width']) === 'number') {
                    this.sliderImageWidth = data['width'];
                    this.sliderImageSizeWithPadding = data['width'] + 6; // addeing padding with image width
                }
                if (data.hasOwnProperty('height') && typeof (data['height']) === 'number') {
                    this.sliderImageHeight = data['height'];
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgImageSliderComponent.prototype, "animationSpeed", {
        set: /**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (data
                && typeof (data) === 'number'
                && data >= 0.1
                && data <= 5) {
                this.speed = data;
                this.effectStyle = "all " + this.speed + "s ease-in-out";
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgImageSliderComponent.prototype, "images", {
        set: /**
         * @param {?} imgObj
         * @return {?}
         */
        function (imgObj) {
            if (imgObj && imgObj.length) {
                this.imageObj = imgObj;
                this.imageParentDivWidth = imgObj.length * this.sliderImageSizeWithPadding;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgImageSliderComponent.prototype, "slideImage", {
        set: /**
         * @param {?} count
         * @return {?}
         */
        function (count) {
            if (count && typeof count === 'number') {
                this.slideImageCount = Math.round(count);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgImageSliderComponent.prototype, "autoSlide", {
        set: /**
         * @param {?} count
         * @return {?}
         */
        function (count) {
            if (count && typeof count === 'number' && count >= 1 && count <= 5) {
                this.autoSlideCount = Math.round(count) * 1000;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgImageSliderComponent.prototype, "showArrow", {
        set: /**
         * @param {?} flag
         * @return {?}
         */
        function (flag) {
            if (flag !== undefined && typeof flag === 'boolean') {
                this.showArrowButton = flag;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} event
     * @return {?}
     */
    NgImageSliderComponent.prototype.onResize = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.setSliderWidth();
    };
    /**
     * @param {?} event
     * @return {?}
     */
    NgImageSliderComponent.prototype.handleKeyboardEvent = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event.key.toLowerCase() === 'arrowright' && this.ligthboxShow) {
            this.nextImage();
        }
        if (event.key.toLowerCase() === 'arrowleft' && this.ligthboxShow) {
            this.prevImage();
        }
        if (event.key.toLowerCase() === 'escape' && this.ligthboxShow) {
            this.close();
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // @TODO: for future use
        // console.log(this._elementRef)
        // for slider
        if (this.infinite) {
            this.effectStyle = 'none';
            this.leftPos = -1 * this.sliderImageSizeWithPadding * this.slideImageCount;
            for (var i = 1; i <= this.slideImageCount; i++) {
                this.imageObj.unshift(this.imageObj[this.imageObj.length - i]);
            }
        }
    };
    // for slider
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.setSliderWidth();
        this.cdRef.detectChanges();
        if (isPlatformBrowser(this.platformId)) {
            this.imageAutoSlide();
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.autoSlideInterval) {
            clearInterval(this.autoSlideInterval);
        }
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    NgImageSliderComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (changes && changes["imageSize"]) {
            /** @type {?} */
            var size = changes["imageSize"];
            if (size
                && size.previousValue
                && size.currentValue
                && size.previousValue.width && size.previousValue.height
                && size.currentValue.width && size.currentValue.height
                && (size.previousValue.width !== size.currentValue.width
                    || size.previousValue.height !== size.currentValue.height)) {
                this.setSliderWidth();
            }
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.setSliderWidth = /**
     * @return {?}
     */
    function () {
        if (this.imageDiv.nativeElement.offsetWidth) {
            this.imageParentDivWidth = this.imageObj.length * this.sliderImageSizeWithPadding;
            this.leftPos = this.infinite ? -1 * this.sliderImageSizeWithPadding * this.slideImageCount : 0;
        }
        if (this.sliderMain.nativeElement.offsetWidth) {
            this.sliderMainDivWidth = this.sliderMain.nativeElement.offsetWidth;
        }
        this.nextPrevSliderButtonDisable();
    };
    /**
     * @param {?} index
     * @return {?}
     */
    NgImageSliderComponent.prototype.imageOnClick = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        if (this.imagePopup) {
            this.activeImageIndex = index;
            this.showLightbox();
        }
        this.imageClick.emit(index);
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.imageAutoSlide = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.infinite && this.autoSlideCount && !this.ligthboxShow) {
            this.autoSlideInterval = setInterval(function () {
                _this.next();
            }, this.autoSlideCount);
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.imageMouseEnterHandler = /**
     * @return {?}
     */
    function () {
        if (this.infinite && this.autoSlideCount && this.autoSlideInterval) {
            clearInterval(this.autoSlideInterval);
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.prev = /**
     * @return {?}
     */
    function () {
        if (!this.sliderPrevDisable) {
            if (this.infinite) {
                this.infinitePrevImg();
            }
            else {
                this.prevImg();
            }
            this.arrowClick.emit(PREV_ARROW_CLICK_MESSAGE);
            this.sliderArrowDisableTeam();
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.next = /**
     * @return {?}
     */
    function () {
        if (!this.sliderNextDisable) {
            if (this.infinite) {
                this.infiniteNextImg();
            }
            else {
                this.nextImg();
            }
            this.arrowClick.emit(NEXT_ARROW_CLICK_MESSAGE);
            this.sliderArrowDisableTeam();
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.prevImg = /**
     * @return {?}
     */
    function () {
        if (0 >= this.leftPos + (this.sliderImageSizeWithPadding * this.slideImageCount)) {
            this.leftPos += this.sliderImageSizeWithPadding * this.slideImageCount;
        }
        else {
            this.leftPos = 0;
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.nextImg = /**
     * @return {?}
     */
    function () {
        if ((this.imageParentDivWidth + this.leftPos) - this.sliderMainDivWidth > this.sliderImageSizeWithPadding * this.slideImageCount) {
            this.leftPos -= this.sliderImageSizeWithPadding * this.slideImageCount;
        }
        else if ((this.imageParentDivWidth + this.leftPos) - this.sliderMainDivWidth > 0) {
            this.leftPos -= (this.imageParentDivWidth + this.leftPos) - this.sliderMainDivWidth;
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.infinitePrevImg = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.effectStyle = "all " + this.speed + "s ease-in-out";
        this.leftPos = 0;
        setTimeout(function () {
            _this.effectStyle = 'none';
            _this.leftPos = -1 * _this.sliderImageSizeWithPadding * _this.slideImageCount;
            for (var i = 0; i < _this.slideImageCount; i++) {
                _this.imageObj.unshift(_this.imageObj[_this.imageObj.length - _this.slideImageCount - 1]);
                _this.imageObj.pop();
            }
        }, this.speed * 1000);
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.infiniteNextImg = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.effectStyle = "all " + this.speed + "s ease-in-out";
        this.leftPos = -2 * this.sliderImageSizeWithPadding * this.slideImageCount;
        setTimeout(function () {
            _this.effectStyle = 'none';
            for (var i = 0; i < _this.slideImageCount; i++) {
                _this.imageObj.push(_this.imageObj[_this.slideImageCount]);
                _this.imageObj.shift();
            }
            _this.leftPos = -1 * _this.sliderImageSizeWithPadding * _this.slideImageCount;
        }, this.speed * 1000);
    };
    /**
     * Disable slider left/right arrow when image moving
     */
    /**
     * Disable slider left/right arrow when image moving
     * @return {?}
     */
    NgImageSliderComponent.prototype.sliderArrowDisableTeam = /**
     * Disable slider left/right arrow when image moving
     * @return {?}
     */
    function () {
        var _this = this;
        this.sliderNextDisable = true;
        this.sliderPrevDisable = true;
        setTimeout(function () {
            _this.nextPrevSliderButtonDisable();
        }, this.speed * 1000);
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.nextPrevSliderButtonDisable = /**
     * @return {?}
     */
    function () {
        this.sliderNextDisable = false;
        this.sliderPrevDisable = false;
        if (!this.infinite) {
            if (this.imageParentDivWidth + this.leftPos <= this.sliderMainDivWidth) {
                this.sliderNextDisable = true;
            }
            if (this.leftPos >= 0) {
                this.sliderPrevDisable = true;
            }
        }
    };
    // for lightbox
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.showLightbox = /**
     * @return {?}
     */
    function () {
        if (this.imageObj.length && (this.imageObj[0]['image'] || this.imageObj[0]['video'])) {
            /** @type {?} */
            var imageSrc = this.imageObj[0]['image'] || this.imageObj[0]['video'];
            /** @type {?} */
            var imageTitle = this.imageObj[0]['title'] || '';
            if (this.imageObj[this.activeImageIndex]) {
                imageSrc = this.imageObj[this.activeImageIndex]['image'] || this.imageObj[this.activeImageIndex]['video'];
                imageTitle = this.imageObj[this.activeImageIndex]['title'] || '';
            }
            this.getImage(imageSrc, imageTitle);
            this.nextPrevLigthboxButtonDisable();
            this.imageMouseEnterHandler();
            this.ligthboxShow = true;
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.nextImage = /**
     * @return {?}
     */
    function () {
        if (this.infinite && this.activeImageIndex + 1 >= this.imageObj.length) {
            this.activeImageIndex = 0;
        }
        if (this.activeImageIndex + 1 < this.imageObj.length
            && this.imageObj[this.activeImageIndex + 1]
            && (this.imageObj[this.activeImageIndex + 1]['image']
                || this.imageObj[this.activeImageIndex + 1]['video'])) {
            this.activeImageIndex++;
            /** @type {?} */
            var imageSrc = this.imageObj[this.activeImageIndex]['image'] || this.imageObj[this.activeImageIndex]['video'];
            /** @type {?} */
            var imageTitle = this.imageObj[this.activeImageIndex]['title'] || '';
            this.getImage(imageSrc, imageTitle);
            this.nextPrevLigthboxButtonDisable();
            this.lightboxArrowClick.emit({
                message: LIGHTBOX_NEXT_ARROW_CLICK_MESSAGE,
                index: this.activeImageIndex
            });
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.prevImage = /**
     * @return {?}
     */
    function () {
        if (this.infinite && this.activeImageIndex - 1 <= 0) {
            this.activeImageIndex = this.imageObj.length;
        }
        if (this.activeImageIndex - 1 > -1
            && this.imageObj[this.activeImageIndex - 1]
            && (this.imageObj[this.activeImageIndex - 1]['image']
                || this.imageObj[this.activeImageIndex - 1]['video'])) {
            this.activeImageIndex--;
            /** @type {?} */
            var imageSrc = this.imageObj[this.activeImageIndex]['image'] || this.imageObj[this.activeImageIndex]['video'];
            /** @type {?} */
            var imageTitle = this.imageObj[this.activeImageIndex]['title'] || '';
            this.getImage(imageSrc, imageTitle);
            this.nextPrevLigthboxButtonDisable();
            this.lightboxArrowClick.emit({
                message: LIGHTBOX_PREV_ARROW_CLICK_MESSAGE,
                index: this.activeImageIndex
            });
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.nextPrevLigthboxButtonDisable = /**
     * @return {?}
     */
    function () {
        this.lightboxNextDisable = false;
        this.lightboxPrevDisable = false;
        if (!this.infinite) {
            if (this.activeImageIndex >= this.imageObj.length - 1) {
                this.lightboxNextDisable = true;
            }
            if (this.activeImageIndex <= 0) {
                this.lightboxPrevDisable = true;
            }
        }
    };
    /**
     * @return {?}
     */
    NgImageSliderComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.ligthboxShow = false;
        this.imageAutoSlide();
    };
    /**
     * @param {?} url
     * @param {?=} title
     * @return {?}
     */
    NgImageSliderComponent.prototype.getImage = /**
     * @param {?} url
     * @param {?=} title
     * @return {?}
     */
    function (url, title) {
        if (title === void 0) { title = ''; }
        /** @type {?} */
        var self = this;
        this.currentImageSrc = '';
        this.showImage = false;
        if (url) {
            /** @type {?} */
            var fileExtension = url.replace(/^.*\./, '');
            /** @type {?} */
            var match = url.match(youtubeRegExp);
            if ((match && match[2].length === 11)
                || (fileExtension && validVideoExtensions.indexOf(fileExtension.toLowerCase()) > -1)) {
                this.currentImageSrc = url;
                this.currentImageTitle = title;
                this.showImage = true;
            }
            else if (fileExtension && validFileExtensions.indexOf(fileExtension.toLowerCase()) > -1) {
                /** @type {?} */
                var image = new Image();
                image.onload = function () {
                    setTimeout(function () {
                        self.currentImageSrc = url;
                        self.currentImageTitle = title;
                        self.showImage = true;
                    }, 0);
                };
                image.src = url;
            }
        }
    };
    /**
     * Swipe event handler
     * Reference from https://stackoverflow.com/a/44511007/2067646
     */
    /**
     * Swipe event handler
     * Reference from https://stackoverflow.com/a/44511007/2067646
     * @param {?} e
     * @param {?} when
     * @return {?}
     */
    NgImageSliderComponent.prototype.swipe = /**
     * Swipe event handler
     * Reference from https://stackoverflow.com/a/44511007/2067646
     * @param {?} e
     * @param {?} when
     * @return {?}
     */
    function (e, when) {
        /** @type {?} */
        var coord = [e.changedTouches[0].pageX, e.changedTouches[0].pageY];
        /** @type {?} */
        var time = new Date().getTime();
        if (when === 'start') {
            this.swipeCoord = coord;
            this.swipeTime = time;
        }
        else if (when === 'end') {
            /** @type {?} */
            var direction = [coord[0] - this.swipeCoord[0], coord[1] - this.swipeCoord[1]];
            /** @type {?} */
            var duration = time - this.swipeTime;
            if (duration < 1000 //
                && Math.abs(direction[0]) > 30 // Long enough
                && Math.abs(direction[0]) > Math.abs(direction[1] * 3)) { // Horizontal enough
                // Horizontal enough
                if (direction[0] < 0) {
                    this.next();
                }
                else {
                    this.prev();
                }
            }
        }
    };
    NgImageSliderComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ng-image-slider',
                    template: "\n    <div class=\"ng-image-slider\"\n        [ngStyle]=\"{'height':sliderImageHeight+'px'}\">\n        <div class=\"container\">\n            <div class=\"main\"\n                [ngStyle]=\"{'height':sliderImageHeight+'px'}\"\n                #sliderMain>\n                <div class=\"main-inner\"\n                    [ngStyle]=\"{'margin-left':leftPos+'px', 'width':imageParentDivWidth+'px', 'transition': effectStyle}\"\n                    (touchstart)=\"swipe($event, 'start')\"\n                    (touchend)=\"swipe($event, 'end')\">\n                    <div [ngClass]=\"{'image-popup': imagePopup}\"\n                        [ngStyle]=\"{'width':sliderImageWidth+'px', 'height':sliderImageHeight+'px'}\"\n                        class=\"img-div\"\n                        *ngFor=\"let img of imageObj; let i = index\"\n                        (click)=\"imageOnClick(i)\"\n                        (mouseenter)=\"imageMouseEnterHandler()\"\n                        (mouseleave)=\"imageAutoSlide()\"\n                        #imageDiv>\n                        <custom-img [imageUrl]=\"img.thumbImage || img.posterImage || img.video\"\n                            [isVideo]=\"!!(img.posterImage || img.video)\">\n                        </custom-img>\n                        <div class=\"caption\" *ngIf=\"img.title\">{{ img.title }}</div>\n                    </div>\n                </div>\n                <a *ngIf=\"showArrowButton\"\n                    [ngClass]=\"{'disable': sliderPrevDisable}\"\n                    class=\"prev icons prev-icon\"\n                    (click)=\"prev()\"\n                    (mouseenter)=\"imageMouseEnterHandler()\"\n                    (mouseleave)=\"imageAutoSlide()\">&lsaquo;</a>\n                <a *ngIf=\"showArrowButton\"\n                    [ngClass]=\"{'disable': sliderNextDisable}\"\n                    class=\"next icons next-icon\"\n                    (click)=\"next()\"\n                    (mouseenter)=\"imageMouseEnterHandler()\"\n                    (mouseleave)=\"imageAutoSlide()\">&rsaquo;</a>\n            </div>\n        </div>\n    </div>\n    <slider-lightbox *ngIf=\"ligthboxShow\"\n        [currentImageSrc]=\"currentImageSrc\"\n        [currentImageTitle]=\"currentImageTitle\"\n        [showImage]=\"showImage\"\n        [lightboxPrevDisable]=\"lightboxPrevDisable\"\n        [lightboxNextDisable]=\"lightboxNextDisable\"\n        (close)=\"close()\"\n        (prevImage)=\"prevImage()\"\n        (nextImage)=\"nextImage()\">\n    </slider-lightbox>\n    ",
                    encapsulation: ViewEncapsulation.None,
                    styles: [".ng-image-slider{display:inline-block;position:relative;width:100%}.ng-image-slider .container .main{overflow:hidden;position:absolute;height:200px;width:100%}.ng-image-slider .container .main .main-inner{width:1760px;padding:0}.ng-image-slider .container .main .main-inner .img-div{width:205px;height:200px;display:inline-block;float:left;margin-right:3px;margin-left:3px;position:relative;border-radius:10px}.ng-image-slider .container .main .main-inner .img-div.image-popup{cursor:pointer}.ng-image-slider .container .main .main-inner .img-div img,.ng-image-slider .container .main .main-inner .img-div video{position:absolute;top:0;bottom:0;margin:auto;height:100%;width:100%;left:0;right:0}.ng-image-slider .container .main .main-inner .img-div .youtube-icon{background:url(data:image/png;base64,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) center center/140px 80px no-repeat;position:absolute;z-index:6;display:block;height:100%;width:100%;top:0;left:0}.ng-image-slider .container .main .main-inner .img-div .caption{position:absolute;bottom:0;padding:5px;color:#fff;background-color:rgba(0,0,0,.35);width:100%;box-sizing:border-box;text-align:left}.ng-image-slider .container .main .next,.ng-image-slider .container .main .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;outline:0;width:35px;height:35px;font-size:35px;line-height:30px;z-index:8;transition:.5s ease-in-out;text-align:center}.ng-image-slider .container .main .next:hover,.ng-image-slider .container .main .prev:hover{background-color:#d4cdcd;background-position:-192px -415px}.ng-image-slider .container .main .next.disable,.ng-image-slider .container .main .prev.disable{color:#bbb;background-color:#fff}.ng-image-slider .container .main .prev{left:10px}.ng-image-slider .container .main .prev:hover{background-position:-194px -450px}@media (max-width:1199px){.ng-image-slider .container .main .main-inner .img-div{width:170px;max-width:100%}}@media (max-width:991px){.ng-image-slider .container .main .main-inner .img-div{width:297px;max-width:100%}}@media (max-width:768px){.ng-image-slider .container .main .main-inner .img-div{width:247px;max-width:100%}}@media (max-width:576px){.ng-image-slider .container .main .main-inner .img-div{width:350px;max-width:100%}}.ng-image-slider-lightbox{position:fixed;z-index:1031;background-color:rgba(0,0,0,.6);width:100%;height:100%;top:0;overflow:hidden;transition:.5s ease-in-out;left:0;text-align:center}.ng-image-slider-lightbox .lightbox-wrapper{position:fixed;top:0;left:0;width:calc(100% - 100px);height:calc(100% - 100px);margin:50px;background-image:url(data:image/gif;base64,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);background-repeat:no-repeat;background-position:center center;background-color:#1f1f1f;transition:.5s;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:10px}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div{width:100%;height:100%;border:1px solid rgba(0,0,0,.35);border-radius:10px;position:relative;overflow:hidden}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .pre-loader{background-color:inherit}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div img{transition:.5s ease-in-out;opacity:0;max-width:100%;max-height:100%;position:absolute;z-index:11;top:0;bottom:0;margin:auto;left:0;right:0}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div img.show{opacity:1}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div img.hide{opacity:0}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div iframe,.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div video{top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%;border:0}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .caption{position:absolute;z-index:11;top:0;margin:auto;padding:5px;color:#fff;background-color:rgba(0,0,0,.35);max-width:100%;left:0;right:0;border-radius:10px 10px 0 0}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .next,.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;width:38px;height:38px;font-size:35px;z-index:12;line-height:30px;outline:0;color:#000;transition:.3s ease-in-out}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .next:hover,.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .prev:hover{background-color:#d4cdcd}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .next.disable,.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .prev.disable{color:#bbb;background-color:#fff}.ng-image-slider-lightbox .lightbox-wrapper .lightbox-div .prev{left:10px}.ng-image-slider-lightbox .lightbox-wrapper .close{position:absolute;top:-10px;right:-10px;color:#ea0a3f;background-color:#fff;padding:0;opacity:1;border-radius:50%;line-height:25px;height:25px;width:25px;z-index:12;font-size:25px;font-weight:700;cursor:pointer}@media (max-width:768px){.ng-image-slider-lightbox .lightbox-wrapper{width:calc(100% - 40px);height:calc(100% - 40px);margin:10px}.ng-image-slider-lightbox .lightbox-wrapper .close{top:-5px;right:-5px;line-height:30px;height:30px;width:30px}}"]
                }] }
    ];
    /** @nocollapse */
    NgImageSliderComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef },
        { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }
    ]; };
    NgImageSliderComponent.propDecorators = {
        sliderMain: [{ type: ViewChild, args: ['sliderMain',] }],
        imageDiv: [{ type: ViewChild, args: ['imageDiv',] }],
        imageSize: [{ type: Input }],
        infinite: [{ type: Input }],
        imagePopup: [{ type: Input }],
        animationSpeed: [{ type: Input }],
        images: [{ type: Input }],
        slideImage: [{ type: Input }],
        autoSlide: [{ type: Input }],
        showArrow: [{ type: Input }],
        imageClick: [{ type: Output }],
        arrowClick: [{ type: Output }],
        lightboxArrowClick: [{ type: Output }],
        onResize: [{ type: HostListener, args: ['window:resize', ['$event'],] }],
        handleKeyboardEvent: [{ type: HostListener, args: ['document:keyup', ['$event'],] }]
    };
    return NgImageSliderComponent;
}());
export { NgImageSliderComponent };
if (false) {
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderMainDivWidth;
    /** @type {?} */
    NgImageSliderComponent.prototype.imageParentDivWidth;
    /** @type {?} */
    NgImageSliderComponent.prototype.imageObj;
    /** @type {?} */
    NgImageSliderComponent.prototype.leftPos;
    /** @type {?} */
    NgImageSliderComponent.prototype.effectStyle;
    /** @type {?} */
    NgImageSliderComponent.prototype.speed;
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderPrevDisable;
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderNextDisable;
    /** @type {?} */
    NgImageSliderComponent.prototype.slideImageCount;
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderImageWidth;
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderImageHeight;
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderImageSizeWithPadding;
    /** @type {?} */
    NgImageSliderComponent.prototype.autoSlideCount;
    /** @type {?} */
    NgImageSliderComponent.prototype.autoSlideInterval;
    /** @type {?} */
    NgImageSliderComponent.prototype.showArrowButton;
    /** @type {?} */
    NgImageSliderComponent.prototype.swipeCoord;
    /** @type {?} */
    NgImageSliderComponent.prototype.swipeTime;
    /** @type {?} */
    NgImageSliderComponent.prototype.sliderMain;
    /** @type {?} */
    NgImageSliderComponent.prototype.imageDiv;
    /** @type {?} */
    NgImageSliderComponent.prototype.infinite;
    /** @type {?} */
    NgImageSliderComponent.prototype.imagePopup;
    /** @type {?} */
    NgImageSliderComponent.prototype.imageClick;
    /** @type {?} */
    NgImageSliderComponent.prototype.arrowClick;
    /** @type {?} */
    NgImageSliderComponent.prototype.lightboxArrowClick;
    /** @type {?} */
    NgImageSliderComponent.prototype.currentImageSrc;
    /** @type {?} */
    NgImageSliderComponent.prototype.currentImageTitle;
    /** @type {?} */
    NgImageSliderComponent.prototype.ligthboxShow;
    /** @type {?} */
    NgImageSliderComponent.prototype.activeImageIndex;
    /** @type {?} */
    NgImageSliderComponent.prototype.lightboxNextDisable;
    /** @type {?} */
    NgImageSliderComponent.prototype.lightboxPrevDisable;
    /** @type {?} */
    NgImageSliderComponent.prototype.showImage;
    /** @type {?} */
    NgImageSliderComponent.prototype.cdRef;
    /** @type {?} */
    NgImageSliderComponent.prototype.platformId;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctaW1hZ2Utc2xpZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWltYWdlLXNsaWRlci8iLCJzb3VyY2VzIjpbImxpYi9uZy1pbWFnZS1zbGlkZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0gsaUJBQWlCLEVBQ2pCLFNBQVMsRUFPVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixXQUFXLEVBQ1gsTUFBTSxFQUVULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxpQkFBaUIsRUFBb0IsTUFBTSxpQkFBaUIsQ0FBQzs7QUFFdEUsSUFBTSx3QkFBd0IsR0FBRyxNQUFNLENBTUo7O0FBTm5DLElBQ0ksd0JBQXdCLEdBQUcsVUFBVSxDQUtOOztBQU5uQyxJQUVJLGlDQUFpQyxHQUFHLGVBQWUsQ0FJcEI7O0FBTm5DLElBR0ksaUNBQWlDLEdBQUcsbUJBQW1CLENBR3hCOztBQU5uQyxJQUlJLGFBQWEsR0FBRyxzRUFBc0UsQ0FFdkQ7O0FBTm5DLElBS0ksbUJBQW1CLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FDcEI7O0FBTm5DLElBTUksb0JBQW9CLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7SUFvSy9CLGdDQUNZLE9BQ3FCLFVBQWtCO1FBRHZDLFVBQUssR0FBTCxLQUFLO1FBQ2dCLGVBQVUsR0FBVixVQUFVLENBQVE7O2tDQTFHdEIsQ0FBQzttQ0FDQSxDQUFDO3dCQUNMLEVBQUU7dUJBQ1YsQ0FBQzsyQkFDRyxvQkFBb0I7cUJBQzFCLENBQUM7aUNBQ1ksS0FBSztpQ0FDTCxLQUFLOytCQUNSLENBQUM7Z0NBQ0EsR0FBRztpQ0FDRixHQUFHOzBDQUNGLEdBQUc7OEJBQ1AsQ0FBQzsrQkFFQyxJQUFJO3dCQXVCRixLQUFLOzBCQUNILElBQUk7OzBCQWtD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c0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENoYW5nZURldGVjdG9yUmVmLFxuICAgIENvbXBvbmVudCxcbiAgICBPbkluaXQsXG4gICAgT25DaGFuZ2VzLFxuICAgIFNpbXBsZUNoYW5nZXMsXG4gICAgU2ltcGxlQ2hhbmdlLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgT25EZXN0cm95LFxuICAgIElucHV0LFxuICAgIE91dHB1dCxcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgVmlld0NoaWxkLFxuICAgIEhvc3RMaXN0ZW5lcixcbiAgICBQTEFURk9STV9JRCxcbiAgICBJbmplY3QsXG4gICAgRWxlbWVudFJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGlzUGxhdGZvcm1Ccm93c2VyLCBpc1BsYXRmb3JtU2VydmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuY29uc3QgTkVYVF9BUlJPV19DTElDS19NRVNTQUdFID0gJ25leHQnLFxuICAgIFBSRVZfQVJST1dfQ0xJQ0tfTUVTU0FHRSA9ICdwcmV2aW91cycsXG4gICAgTElHSFRCT1hfTkVYVF9BUlJPV19DTElDS19NRVNTQUdFID0gJ2xpZ2h0Ym94IG5leHQnLFxuICAgIExJR0hUQk9YX1BSRVZfQVJST1dfQ0xJQ0tfTUVTU0FHRSA9ICdsaWdodGJveCBwcmV2aW91cycsXG4gICAgeW91dHViZVJlZ0V4cCA9IC9eLiooeW91dHUuYmVcXC98dlxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvfHdhdGNoXFw/dj18XFwmdj18XFw/dj0pKFteI1xcJlxcP10qKS4qLyxcbiAgICB2YWxpZEZpbGVFeHRlbnNpb25zID0gWydqcGVnJywgJ2pwZycsICdnaWYnLCAncG5nJ10sXG4gICAgdmFsaWRWaWRlb0V4dGVuc2lvbnMgPSBbJ21wNCddO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ25nLWltYWdlLXNsaWRlcicsXG4gICAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2IGNsYXNzPVwibmctaW1hZ2Utc2xpZGVyXCJcbiAgICAgICAgW25nU3R5bGVdPVwieydoZWlnaHQnOnNsaWRlckltYWdlSGVpZ2h0KydweCd9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYWluXCJcbiAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJ7J2hlaWdodCc6c2xpZGVySW1hZ2VIZWlnaHQrJ3B4J31cIlxuICAgICAgICAgICAgICAgICNzbGlkZXJNYWluPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYWluLWlubmVyXCJcbiAgICAgICAgICAgICAgICAgICAgW25nU3R5bGVdPVwieydtYXJnaW4tbGVmdCc6bGVmdFBvcysncHgnLCAnd2lkdGgnOmltYWdlUGFyZW50RGl2V2lkdGgrJ3B4JywgJ3RyYW5zaXRpb24nOiBlZmZlY3RTdHlsZX1cIlxuICAgICAgICAgICAgICAgICAgICAodG91Y2hzdGFydCk9XCJzd2lwZSgkZXZlbnQsICdzdGFydCcpXCJcbiAgICAgICAgICAgICAgICAgICAgKHRvdWNoZW5kKT1cInN3aXBlKCRldmVudCwgJ2VuZCcpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgW25nQ2xhc3NdPVwieydpbWFnZS1wb3B1cCc6IGltYWdlUG9wdXB9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsnd2lkdGgnOnNsaWRlckltYWdlV2lkdGgrJ3B4JywgJ2hlaWdodCc6c2xpZGVySW1hZ2VIZWlnaHQrJ3B4J31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbWctZGl2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBpbWcgb2YgaW1hZ2VPYmo7IGxldCBpID0gaW5kZXhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImltYWdlT25DbGljayhpKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJpbWFnZU1vdXNlRW50ZXJIYW5kbGVyKClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiaW1hZ2VBdXRvU2xpZGUoKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAjaW1hZ2VEaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Y3VzdG9tLWltZyBbaW1hZ2VVcmxdPVwiaW1nLnRodW1iSW1hZ2UgfHwgaW1nLnBvc3RlckltYWdlIHx8IGltZy52aWRlb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lzVmlkZW9dPVwiISEoaW1nLnBvc3RlckltYWdlIHx8IGltZy52aWRlbylcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvY3VzdG9tLWltZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXB0aW9uXCIgKm5nSWY9XCJpbWcudGl0bGVcIj57eyBpbWcudGl0bGUgfX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJzaG93QXJyb3dCdXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2Rpc2FibGUnOiBzbGlkZXJQcmV2RGlzYWJsZX1cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInByZXYgaWNvbnMgcHJldi1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInByZXYoKVwiXG4gICAgICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cImltYWdlTW91c2VFbnRlckhhbmRsZXIoKVwiXG4gICAgICAgICAgICAgICAgICAgIChtb3VzZWxlYXZlKT1cImltYWdlQXV0b1NsaWRlKClcIj4mbHNhcXVvOzwvYT5cbiAgICAgICAgICAgICAgICA8YSAqbmdJZj1cInNob3dBcnJvd0J1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnZGlzYWJsZSc6IHNsaWRlck5leHREaXNhYmxlfVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibmV4dCBpY29ucyBuZXh0LWljb25cIlxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwibmV4dCgpXCJcbiAgICAgICAgICAgICAgICAgICAgKG1vdXNlZW50ZXIpPVwiaW1hZ2VNb3VzZUVudGVySGFuZGxlcigpXCJcbiAgICAgICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiaW1hZ2VBdXRvU2xpZGUoKVwiPiZyc2FxdW87PC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzbGlkZXItbGlnaHRib3ggKm5nSWY9XCJsaWd0aGJveFNob3dcIlxuICAgICAgICBbY3VycmVudEltYWdlU3JjXT1cImN1cnJlbnRJbWFnZVNyY1wiXG4gICAgICAgIFtjdXJyZW50SW1hZ2VUaXRsZV09XCJjdXJyZW50SW1hZ2VUaXRsZVwiXG4gICAgICAgIFtzaG93SW1hZ2VdPVwic2hvd0ltYWdlXCJcbiAgICAgICAgW2xpZ2h0Ym94UHJldkRpc2FibGVdPVwibGlnaHRib3hQcmV2RGlzYWJsZVwiXG4gICAgICAgIFtsaWdodGJveE5leHREaXNhYmxlXT1cImxpZ2h0Ym94TmV4dERpc2FibGVcIlxuICAgICAgICAoY2xvc2UpPVwiY2xvc2UoKVwiXG4gICAgICAgIChwcmV2SW1hZ2UpPVwicHJldkltYWdlKClcIlxuICAgICAgICAobmV4dEltYWdlKT1cIm5leHRJbWFnZSgpXCI+XG4gICAgPC9zbGlkZXItbGlnaHRib3g+XG4gICAgYCxcbiAgICBzdHlsZVVybHM6IFsnLi9uZy1pbWFnZS1zbGlkZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIE5nSW1hZ2VTbGlkZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgICAvLyBmb3Igc2xpZGVyXG4gICAgc2xpZGVyTWFpbkRpdldpZHRoOiBudW1iZXIgPSAwO1xuICAgIGltYWdlUGFyZW50RGl2V2lkdGg6IG51bWJlciA9IDA7XG4gICAgaW1hZ2VPYmo6IEFycmF5PG9iamVjdD4gPSBbXTtcbiAgICBsZWZ0UG9zOiBudW1iZXIgPSAwO1xuICAgIGVmZmVjdFN0eWxlOiBzdHJpbmcgPSAnYWxsIDFzIGVhc2UtaW4tb3V0JztcbiAgICBzcGVlZDogbnVtYmVyID0gMTsgLy8gZGVmYXVsdCBzcGVlZCBpbiBzZWNvbmRcbiAgICBzbGlkZXJQcmV2RGlzYWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNsaWRlck5leHREaXNhYmxlOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2xpZGVJbWFnZUNvdW50OiBudW1iZXIgPSAxO1xuICAgIHNsaWRlckltYWdlV2lkdGg6IG51bWJlciA9IDIwNTtcbiAgICBzbGlkZXJJbWFnZUhlaWdodDogbnVtYmVyID0gMjAwO1xuICAgIHNsaWRlckltYWdlU2l6ZVdpdGhQYWRkaW5nID0gMjExO1xuICAgIGF1dG9TbGlkZUNvdW50OiBudW1iZXIgPSAwO1xuICAgIGF1dG9TbGlkZUludGVydmFsO1xuICAgIHNob3dBcnJvd0J1dHRvbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvLyBmb3Igc3dpcGUgZXZlbnRcbiAgICBwcml2YXRlIHN3aXBlQ29vcmQ/OiBbbnVtYmVyLCBudW1iZXJdO1xuICAgIHByaXZhdGUgc3dpcGVUaW1lPzogbnVtYmVyO1xuXG4gICAgQFZpZXdDaGlsZCgnc2xpZGVyTWFpbicpIHNsaWRlck1haW47XG4gICAgQFZpZXdDaGlsZCgnaW1hZ2VEaXYnKSBpbWFnZURpdjtcblxuICAgIC8vIEBpbnB1dHNcbiAgICBASW5wdXQoKVxuICAgIHNldCBpbWFnZVNpemUoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YVxuICAgICAgICAgICAgJiYgdHlwZW9mIChkYXRhKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCd3aWR0aCcpICYmIHR5cGVvZiAoZGF0YVsnd2lkdGgnXSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJJbWFnZVdpZHRoID0gZGF0YVsnd2lkdGgnXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlckltYWdlU2l6ZVdpdGhQYWRkaW5nID0gZGF0YVsnd2lkdGgnXSArIDY7IC8vIGFkZGVpbmcgcGFkZGluZyB3aXRoIGltYWdlIHdpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnaGVpZ2h0JykgJiYgdHlwZW9mIChkYXRhWydoZWlnaHQnXSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJJbWFnZUhlaWdodCA9IGRhdGFbJ2hlaWdodCddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEBJbnB1dCgpIGluZmluaXRlOiBib29sZWFuID0gZmFsc2U7XG4gICAgQElucHV0KCkgaW1hZ2VQb3B1cDogYm9vbGVhbiA9IHRydWU7XG4gICAgQElucHV0KClcbiAgICBzZXQgYW5pbWF0aW9uU3BlZWQoZGF0YTogbnVtYmVyKSB7XG4gICAgICAgIGlmIChkYXRhXG4gICAgICAgICAgICAmJiB0eXBlb2YgKGRhdGEpID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgJiYgZGF0YSA+PSAwLjFcbiAgICAgICAgICAgICYmIGRhdGEgPD0gNSkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLmVmZmVjdFN0eWxlID0gYGFsbCAke3RoaXMuc3BlZWR9cyBlYXNlLWluLW91dGA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQElucHV0KCkgc2V0IGltYWdlcyhpbWdPYmopIHtcbiAgICAgICAgaWYgKGltZ09iaiAmJiBpbWdPYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlT2JqID0gaW1nT2JqO1xuICAgICAgICAgICAgdGhpcy5pbWFnZVBhcmVudERpdldpZHRoID0gaW1nT2JqLmxlbmd0aCAqIHRoaXMuc2xpZGVySW1hZ2VTaXplV2l0aFBhZGRpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQElucHV0KCkgc2V0IHNsaWRlSW1hZ2UoY291bnQpIHtcbiAgICAgICAgaWYgKGNvdW50ICYmIHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuc2xpZGVJbWFnZUNvdW50ID0gTWF0aC5yb3VuZChjb3VudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQElucHV0KCkgc2V0IGF1dG9TbGlkZShjb3VudCkge1xuICAgICAgICBpZiAoY291bnQgJiYgdHlwZW9mIGNvdW50ID09PSAnbnVtYmVyJyAmJiBjb3VudCA+PSAxICYmIGNvdW50IDw9IDUpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b1NsaWRlQ291bnQgPSBNYXRoLnJvdW5kKGNvdW50KSAqIDEwMDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQElucHV0KCkgc2V0IHNob3dBcnJvdyhmbGFnKSB7XG4gICAgICAgIGlmIChmbGFnICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGZsYWcgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhpcy5zaG93QXJyb3dCdXR0b24gPSBmbGFnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQE91dHB1dHNcbiAgICBAT3V0cHV0KCkgaW1hZ2VDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPigpO1xuICAgIEBPdXRwdXQoKSBhcnJvd0NsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG4gICAgQE91dHB1dCgpIGxpZ2h0Ym94QXJyb3dDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8b2JqZWN0PigpO1xuXG4gICAgLy8gZm9yIGxpZ2h0Ym94XG4gICAgY3VycmVudEltYWdlU3JjOiBzdHJpbmc7XG4gICAgY3VycmVudEltYWdlVGl0bGUgPSAnJztcbiAgICBsaWd0aGJveFNob3c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBhY3RpdmVJbWFnZUluZGV4OiBudW1iZXIgPSAwO1xuICAgIGxpZ2h0Ym94TmV4dERpc2FibGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBsaWdodGJveFByZXZEaXNhYmxlOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2hvd0ltYWdlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnLCBbJyRldmVudCddKVxuICAgIG9uUmVzaXplKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U2xpZGVyV2lkdGgoKTtcbiAgICB9XG4gICAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6a2V5dXAnLCBbJyRldmVudCddKVxuICAgIGhhbmRsZUtleWJvYXJkRXZlbnQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSAnYXJyb3dyaWdodCcgJiYgdGhpcy5saWd0aGJveFNob3cpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEltYWdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdhcnJvd2xlZnQnICYmIHRoaXMubGlndGhib3hTaG93KSB7XG4gICAgICAgICAgICB0aGlzLnByZXZJbWFnZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSAnZXNjYXBlJyAmJiB0aGlzLmxpZ3RoYm94U2hvdykge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY2RSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtSWQ6IE9iamVjdCxcbiAgICAgICAgLy8gQEluamVjdChFbGVtZW50UmVmKSBwcml2YXRlIF9lbGVtZW50UmVmOiBFbGVtZW50UmVmXG4gICAgKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIC8vIEBUT0RPOiBmb3IgZnV0dXJlIHVzZVxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9lbGVtZW50UmVmKVxuXG4gICAgICAgIC8vIGZvciBzbGlkZXJcbiAgICAgICAgaWYgKHRoaXMuaW5maW5pdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0U3R5bGUgPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLmxlZnRQb3MgPSAtMSAqIHRoaXMuc2xpZGVySW1hZ2VTaXplV2l0aFBhZGRpbmcgKiB0aGlzLnNsaWRlSW1hZ2VDb3VudDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuc2xpZGVJbWFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqLnVuc2hpZnQodGhpcy5pbWFnZU9ialt0aGlzLmltYWdlT2JqLmxlbmd0aCAtIGldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZvciBzbGlkZXJcbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMuc2V0U2xpZGVyV2lkdGgoKTtcbiAgICAgICAgdGhpcy5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlQXV0b1NsaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1NsaWRlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvU2xpZGVJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzICYmIGNoYW5nZXMuaW1hZ2VTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBzaXplOiBTaW1wbGVDaGFuZ2UgPSBjaGFuZ2VzLmltYWdlU2l6ZTtcbiAgICAgICAgICAgIGlmIChzaXplXG4gICAgICAgICAgICAgICAgJiYgc2l6ZS5wcmV2aW91c1ZhbHVlXG4gICAgICAgICAgICAgICAgJiYgc2l6ZS5jdXJyZW50VmFsdWVcbiAgICAgICAgICAgICAgICAmJiBzaXplLnByZXZpb3VzVmFsdWUud2lkdGggJiYgc2l6ZS5wcmV2aW91c1ZhbHVlLmhlaWdodFxuICAgICAgICAgICAgICAgICYmIHNpemUuY3VycmVudFZhbHVlLndpZHRoICYmIHNpemUuY3VycmVudFZhbHVlLmhlaWdodFxuICAgICAgICAgICAgICAgICYmIChzaXplLnByZXZpb3VzVmFsdWUud2lkdGggIT09IHNpemUuY3VycmVudFZhbHVlLndpZHRoXG4gICAgICAgICAgICAgICAgfHwgc2l6ZS5wcmV2aW91c1ZhbHVlLmhlaWdodCAhPT0gc2l6ZS5jdXJyZW50VmFsdWUuaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2xpZGVyV2lkdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFNsaWRlcldpZHRoKCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZURpdi5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlUGFyZW50RGl2V2lkdGggPSB0aGlzLmltYWdlT2JqLmxlbmd0aCAqIHRoaXMuc2xpZGVySW1hZ2VTaXplV2l0aFBhZGRpbmc7XG4gICAgICAgICAgICB0aGlzLmxlZnRQb3MgPSB0aGlzLmluZmluaXRlID8gLTEgKiB0aGlzLnNsaWRlckltYWdlU2l6ZVdpdGhQYWRkaW5nICogdGhpcy5zbGlkZUltYWdlQ291bnQgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNsaWRlck1haW4ubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zbGlkZXJNYWluRGl2V2lkdGggPSB0aGlzLnNsaWRlck1haW4ubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHRQcmV2U2xpZGVyQnV0dG9uRGlzYWJsZSgpO1xuICAgIH1cblxuICAgIGltYWdlT25DbGljayhpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZVBvcHVwKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUltYWdlSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xpZ2h0Ym94KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZUNsaWNrLmVtaXQoaW5kZXgpO1xuICAgIH1cblxuICAgIGltYWdlQXV0b1NsaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5pbmZpbml0ZSAmJiB0aGlzLmF1dG9TbGlkZUNvdW50ICYmICF0aGlzLmxpZ3RoYm94U2hvdykge1xuICAgICAgICAgICAgdGhpcy5hdXRvU2xpZGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgIH0sIHRoaXMuYXV0b1NsaWRlQ291bnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW1hZ2VNb3VzZUVudGVySGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5maW5pdGUgJiYgdGhpcy5hdXRvU2xpZGVDb3VudCAmJiB0aGlzLmF1dG9TbGlkZUludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1NsaWRlSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJldigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNsaWRlclByZXZEaXNhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmZpbml0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5maW5pdGVQcmV2SW1nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkltZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFycm93Q2xpY2suZW1pdChQUkVWX0FSUk9XX0NMSUNLX01FU1NBR0UpO1xuICAgICAgICAgICAgdGhpcy5zbGlkZXJBcnJvd0Rpc2FibGVUZWFtKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc2xpZGVyTmV4dERpc2FibGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZmluaXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmZpbml0ZU5leHRJbWcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0SW1nKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYXJyb3dDbGljay5lbWl0KE5FWFRfQVJST1dfQ0xJQ0tfTUVTU0FHRSk7XG4gICAgICAgICAgICB0aGlzLnNsaWRlckFycm93RGlzYWJsZVRlYW0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZXZJbWcoKSB7XG4gICAgICAgIGlmICgwID49IHRoaXMubGVmdFBvcyArICh0aGlzLnNsaWRlckltYWdlU2l6ZVdpdGhQYWRkaW5nICogdGhpcy5zbGlkZUltYWdlQ291bnQpKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnRQb3MgKz0gdGhpcy5zbGlkZXJJbWFnZVNpemVXaXRoUGFkZGluZyAqIHRoaXMuc2xpZGVJbWFnZUNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sZWZ0UG9zID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRJbWcoKSB7XG4gICAgICAgIGlmICgodGhpcy5pbWFnZVBhcmVudERpdldpZHRoICsgdGhpcy5sZWZ0UG9zKSAtIHRoaXMuc2xpZGVyTWFpbkRpdldpZHRoID4gdGhpcy5zbGlkZXJJbWFnZVNpemVXaXRoUGFkZGluZyAqIHRoaXMuc2xpZGVJbWFnZUNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLmxlZnRQb3MgLT0gdGhpcy5zbGlkZXJJbWFnZVNpemVXaXRoUGFkZGluZyAqIHRoaXMuc2xpZGVJbWFnZUNvdW50O1xuICAgICAgICB9IGVsc2UgaWYgKCh0aGlzLmltYWdlUGFyZW50RGl2V2lkdGggKyB0aGlzLmxlZnRQb3MpIC0gdGhpcy5zbGlkZXJNYWluRGl2V2lkdGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnRQb3MgLT0gKHRoaXMuaW1hZ2VQYXJlbnREaXZXaWR0aCArIHRoaXMubGVmdFBvcykgLSB0aGlzLnNsaWRlck1haW5EaXZXaWR0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluZmluaXRlUHJldkltZygpIHtcbiAgICAgICAgdGhpcy5lZmZlY3RTdHlsZSA9IGBhbGwgJHt0aGlzLnNwZWVkfXMgZWFzZS1pbi1vdXRgO1xuICAgICAgICB0aGlzLmxlZnRQb3MgPSAwO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lZmZlY3RTdHlsZSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMubGVmdFBvcyA9IC0xICogdGhpcy5zbGlkZXJJbWFnZVNpemVXaXRoUGFkZGluZyAqIHRoaXMuc2xpZGVJbWFnZUNvdW50O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWRlSW1hZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iai51bnNoaWZ0KHRoaXMuaW1hZ2VPYmpbdGhpcy5pbWFnZU9iai5sZW5ndGggLSB0aGlzLnNsaWRlSW1hZ2VDb3VudCAtIDFdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLnNwZWVkICogMTAwMCk7XG4gICAgfVxuXG4gICAgaW5maW5pdGVOZXh0SW1nKCkge1xuICAgICAgICB0aGlzLmVmZmVjdFN0eWxlID0gYGFsbCAke3RoaXMuc3BlZWR9cyBlYXNlLWluLW91dGA7XG4gICAgICAgIHRoaXMubGVmdFBvcyA9IC0yICogdGhpcy5zbGlkZXJJbWFnZVNpemVXaXRoUGFkZGluZyAqIHRoaXMuc2xpZGVJbWFnZUNvdW50O1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0U3R5bGUgPSAnbm9uZSc7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2xpZGVJbWFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqLnB1c2godGhpcy5pbWFnZU9ialt0aGlzLnNsaWRlSW1hZ2VDb3VudF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VPYmouc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGVmdFBvcyA9IC0xICogdGhpcy5zbGlkZXJJbWFnZVNpemVXaXRoUGFkZGluZyAqIHRoaXMuc2xpZGVJbWFnZUNvdW50O1xuICAgICAgICB9LCB0aGlzLnNwZWVkICogMTAwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBzbGlkZXIgbGVmdC9yaWdodCBhcnJvdyB3aGVuIGltYWdlIG1vdmluZ1xuICAgICAqL1xuICAgIHNsaWRlckFycm93RGlzYWJsZVRlYW0oKSB7XG4gICAgICAgIHRoaXMuc2xpZGVyTmV4dERpc2FibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNsaWRlclByZXZEaXNhYmxlID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHRQcmV2U2xpZGVyQnV0dG9uRGlzYWJsZSgpO1xuICAgICAgICB9LCB0aGlzLnNwZWVkICogMTAwMCk7XG4gICAgfVxuXG4gICAgbmV4dFByZXZTbGlkZXJCdXR0b25EaXNhYmxlKCkge1xuICAgICAgICB0aGlzLnNsaWRlck5leHREaXNhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2xpZGVyUHJldkRpc2FibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmluZmluaXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbWFnZVBhcmVudERpdldpZHRoICsgdGhpcy5sZWZ0UG9zIDw9IHRoaXMuc2xpZGVyTWFpbkRpdldpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJOZXh0RGlzYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnRQb3MgPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVyUHJldkRpc2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZm9yIGxpZ2h0Ym94XG4gICAgc2hvd0xpZ2h0Ym94KCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZU9iai5sZW5ndGggJiYgKHRoaXMuaW1hZ2VPYmpbMF1bJ2ltYWdlJ10gfHwgdGhpcy5pbWFnZU9ialswXVsndmlkZW8nXSkpIHtcbiAgICAgICAgICAgIGxldCBpbWFnZVNyYyA9IHRoaXMuaW1hZ2VPYmpbMF1bJ2ltYWdlJ10gfHwgdGhpcy5pbWFnZU9ialswXVsndmlkZW8nXSxcbiAgICAgICAgICAgICAgICBpbWFnZVRpdGxlID0gdGhpcy5pbWFnZU9ialswXVsndGl0bGUnXSB8fCAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlT2JqW3RoaXMuYWN0aXZlSW1hZ2VJbmRleF0pIHtcbiAgICAgICAgICAgICAgICBpbWFnZVNyYyA9IHRoaXMuaW1hZ2VPYmpbdGhpcy5hY3RpdmVJbWFnZUluZGV4XVsnaW1hZ2UnXSB8fCB0aGlzLmltYWdlT2JqW3RoaXMuYWN0aXZlSW1hZ2VJbmRleF1bJ3ZpZGVvJ107XG4gICAgICAgICAgICAgICAgaW1hZ2VUaXRsZSA9IHRoaXMuaW1hZ2VPYmpbdGhpcy5hY3RpdmVJbWFnZUluZGV4XVsndGl0bGUnXSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ2V0SW1hZ2UoaW1hZ2VTcmMsIGltYWdlVGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJldkxpZ3RoYm94QnV0dG9uRGlzYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZU1vdXNlRW50ZXJIYW5kbGVyKCk7XG4gICAgICAgICAgICB0aGlzLmxpZ3RoYm94U2hvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0SW1hZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZmluaXRlICYmIHRoaXMuYWN0aXZlSW1hZ2VJbmRleCArIDEgPj0gdGhpcy5pbWFnZU9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW1hZ2VJbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVJbWFnZUluZGV4ICsgMSA8IHRoaXMuaW1hZ2VPYmoubGVuZ3RoXG4gICAgICAgICAgICAmJiB0aGlzLmltYWdlT2JqW3RoaXMuYWN0aXZlSW1hZ2VJbmRleCArIDFdXG4gICAgICAgICAgICAmJiAodGhpcy5pbWFnZU9ialt0aGlzLmFjdGl2ZUltYWdlSW5kZXggKyAxXVsnaW1hZ2UnXVxuICAgICAgICAgICAgfHwgdGhpcy5pbWFnZU9ialt0aGlzLmFjdGl2ZUltYWdlSW5kZXggKyAxXVsndmlkZW8nXSkpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW1hZ2VJbmRleCsrO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VTcmMgPSB0aGlzLmltYWdlT2JqW3RoaXMuYWN0aXZlSW1hZ2VJbmRleF1bJ2ltYWdlJ10gfHwgdGhpcy5pbWFnZU9ialt0aGlzLmFjdGl2ZUltYWdlSW5kZXhdWyd2aWRlbyddO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VUaXRsZSA9IHRoaXMuaW1hZ2VPYmpbdGhpcy5hY3RpdmVJbWFnZUluZGV4XVsndGl0bGUnXSB8fCAnJztcbiAgICAgICAgICAgIHRoaXMuZ2V0SW1hZ2UoaW1hZ2VTcmMsIGltYWdlVGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJldkxpZ3RoYm94QnV0dG9uRGlzYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5saWdodGJveEFycm93Q2xpY2suZW1pdCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogTElHSFRCT1hfTkVYVF9BUlJPV19DTElDS19NRVNTQUdFLFxuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmFjdGl2ZUltYWdlSW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJldkltYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5pbmZpbml0ZSAmJiB0aGlzLmFjdGl2ZUltYWdlSW5kZXggLSAxIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW1hZ2VJbmRleCA9IHRoaXMuaW1hZ2VPYmoubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VJbmRleCAtIDEgPiAtMVxuICAgICAgICAgICAgJiYgdGhpcy5pbWFnZU9ialt0aGlzLmFjdGl2ZUltYWdlSW5kZXggLSAxXVxuICAgICAgICAgICAgJiYgKHRoaXMuaW1hZ2VPYmpbdGhpcy5hY3RpdmVJbWFnZUluZGV4IC0gMV1bJ2ltYWdlJ11cbiAgICAgICAgICAgIHx8IHRoaXMuaW1hZ2VPYmpbdGhpcy5hY3RpdmVJbWFnZUluZGV4IC0gMV1bJ3ZpZGVvJ10pKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUltYWdlSW5kZXgtLTtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlU3JjID0gdGhpcy5pbWFnZU9ialt0aGlzLmFjdGl2ZUltYWdlSW5kZXhdWydpbWFnZSddIHx8IHRoaXMuaW1hZ2VPYmpbdGhpcy5hY3RpdmVJbWFnZUluZGV4XVsndmlkZW8nXTtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVGl0bGUgPSB0aGlzLmltYWdlT2JqW3RoaXMuYWN0aXZlSW1hZ2VJbmRleF1bJ3RpdGxlJ10gfHwgJyc7XG4gICAgICAgICAgICB0aGlzLmdldEltYWdlKGltYWdlU3JjLCBpbWFnZVRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMubmV4dFByZXZMaWd0aGJveEJ1dHRvbkRpc2FibGUoKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRib3hBcnJvd0NsaWNrLmVtaXQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IExJR0hUQk9YX1BSRVZfQVJST1dfQ0xJQ0tfTUVTU0FHRSxcbiAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5hY3RpdmVJbWFnZUluZGV4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRQcmV2TGlndGhib3hCdXR0b25EaXNhYmxlKCkge1xuICAgICAgICB0aGlzLmxpZ2h0Ym94TmV4dERpc2FibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodGJveFByZXZEaXNhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5pbmZpbml0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VJbmRleCA+PSB0aGlzLmltYWdlT2JqLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94TmV4dERpc2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbWFnZUluZGV4IDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94UHJldkRpc2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMubGlndGhib3hTaG93ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW1hZ2VBdXRvU2xpZGUoKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZSh1cmwsIHRpdGxlID0gJycpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlU3JjID0gJyc7XG4gICAgICAgIHRoaXMuc2hvd0ltYWdlID0gZmFsc2U7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVFeHRlbnNpb24gPSB1cmwucmVwbGFjZSgvXi4qXFwuLywgJycpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IGZvciB5b3V0dWJlIGFuZCB2aWRlbyB1cmxcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKHlvdXR1YmVSZWdFeHApO1xuICAgICAgICAgICAgaWYgKChtYXRjaCAmJiBtYXRjaFsyXS5sZW5ndGggPT09IDExKVxuICAgICAgICAgICAgICAgIHx8IChmaWxlRXh0ZW5zaW9uICYmIHZhbGlkVmlkZW9FeHRlbnNpb25zLmluZGV4T2YoZmlsZUV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpKSA+IC0xKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEltYWdlU3JjID0gdXJsO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEltYWdlVGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dJbWFnZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGVFeHRlbnNpb24gJiYgdmFsaWRGaWxlRXh0ZW5zaW9ucy5pbmRleE9mKGZpbGVFeHRlbnNpb24udG9Mb3dlckNhc2UoKSkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudEltYWdlU3JjID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50SW1hZ2VUaXRsZSA9IHRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93SW1hZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3aXBlIGV2ZW50IGhhbmRsZXJcbiAgICAgKiBSZWZlcmVuY2UgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDQ1MTEwMDcvMjA2NzY0NlxuICAgICAqL1xuICAgIHN3aXBlKGU6IFRvdWNoRXZlbnQsIHdoZW46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb29yZDogW251bWJlciwgbnVtYmVyXSA9IFtlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLCBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZXTtcbiAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmICh3aGVuID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICB0aGlzLnN3aXBlQ29vcmQgPSBjb29yZDtcbiAgICAgICAgICAgIHRoaXMuc3dpcGVUaW1lID0gdGltZTtcbiAgICAgICAgfSBlbHNlIGlmICh3aGVuID09PSAnZW5kJykge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gW2Nvb3JkWzBdIC0gdGhpcy5zd2lwZUNvb3JkWzBdLCBjb29yZFsxXSAtIHRoaXMuc3dpcGVDb29yZFsxXV07XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRpbWUgLSB0aGlzLnN3aXBlVGltZTtcblxuICAgICAgICAgICAgaWYgKGR1cmF0aW9uIDwgMTAwMCAvL1xuICAgICAgICAgICAgICAgICYmIE1hdGguYWJzKGRpcmVjdGlvblswXSkgPiAzMCAvLyBMb25nIGVub3VnaFxuICAgICAgICAgICAgICAgICYmIE1hdGguYWJzKGRpcmVjdGlvblswXSkgPiBNYXRoLmFicyhkaXJlY3Rpb25bMV0gKiAzKSkgeyAvLyBIb3Jpem9udGFsIGVub3VnaFxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb25bMF0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==